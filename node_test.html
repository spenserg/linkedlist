<script>

class Node {
  constructor(value,next) {
    this.value = value;
    this.next = next;
  }

  print_list() {
    var result = "";
    var n = this;
    while (n) {
      result += n.value+"->";
      n = n.next;
    }
    return result+"undefined";
  }

  insert(index,value) {
    var p_first = new Node(undefined,this);
    var n = p_first;
    for (i=0;i<index;i++) {
      n = n.next;
    }
    n.next = new Node(value,n.next);
    return p_first.next;
  }

  delete_node(index) {
    var p_first = new Node(undefined,this);
    var n = p_first;
    for (i=0;i<index;i++) {
      n = n.next;
    }
    n.next = n.next.next;
    return p_first.next;
  }

  get_length(n) {
    var n = new Node(undefined,this);
    var result = -1;
    while (n) {
      result++;
      n = n.next;
    }
    return result;
  }

  valueAt(index) {
    var n = this;
    for (i=0;i<index;i++) {
      n = n.next;
    }
    return n.value;
  }

  sel_sort() {
    var result_p = new Node();
    var result = result_p;
    var n = this;
    while (n) {
      var min_index = 0;
      var min_value = n.value;
      var len = n.get_length();
      var tmp = n;
      for (i=0;i<len;i++) {
        if (tmp.value < min_value) {
          min_value = tmp.value;
          min_index = i;
        }
        tmp = tmp.next;
      }
      result.next = new Node(n.valueAt(min_index));
      result = result.next;
      n = n.delete_node(i);
    }
    return result_p.next;
  }
}

function convert(arr) {
  var n = new Node();
  p_first = n;
  for (i=0;i<arr.length;i++) {
    n.next = new Node(arr[i]);
    n = n.next;
  }
  return p_first.next;
}

</script>
